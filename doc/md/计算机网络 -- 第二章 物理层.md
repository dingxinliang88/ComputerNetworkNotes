[toc]



# 计算机网络 -- 第二章 物理层

## 

## 2.1 物理层的基本概念

### 1、物理层要实现的功能

- 物理层考虑的是怎样才能在连接各种计算机的传输媒体上传输数据比特流

- 物理层为数据链路层屏蔽了各种传输媒体的差异，使数据链路层只需要考虑如何完成本层的协议和服务，而不需要考虑网络的传输媒体使什么

  ![](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/5143/20221214191710.png)

#### 2、物理层的接口特性

- 机械特性：指明接口所用接线器的**形状**和**尺寸**、**引脚数目**和**排列**、**固定**和**锁定**装置
- 电气特性：指明在接口电缆的各条线上出现的**电压的范围**
- 功能特性：指明某条线出现的某一电平的**电压表示何种意义**
- 过程特性：指明对于不同功能的各种可能**事件的出现顺序**

![](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/5143/20221214192430.png)



## 2.2 物理层下面的传输媒体

### 1、传输媒体的分类

- **传输媒体**是计算机网络设备之间的物理通路，也成为传输介质或者传输媒介
- 传输媒体并**不包含在计算机网络体系结构中**
  ![](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/5143/20221214211545.png)

![](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/5143/20221214211634.png)

### 2、导向型传输媒体

在导向型传输媒体中，电磁波被导引沿着固体媒体传播

- **同轴电缆**
  ![](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/5143/20221214211836.png)
  ![](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/5143/20221214211911.png)

  > 同轴电缆价格较贵且布线不够灵活和方便。随着技术的发展和集线器的出现，在局域网领域基本上都采用**双绞线**作为传输媒体

- **双绞线**
  ![](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/5143/20221214212021.png)
  ![](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/5143/20221214212043.png)

  > 绞合的作用：
  >
  > - 减少相邻导线间的电磁干扰
  > - 抵御部分来自外界的电磁干扰

  ![](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/5143/20221214212301.png)

- **光纤**
  ![](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/5143/20221214212353.png)

  > 光纤通信利用光脉冲在光纤中的传递来进行通信。由于可见光的频率非常高（约为10^8MHz量级），因此一个光纤通信系统的**传输带宽远大于**目前其他各种传输媒体的带宽。

  ![](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/5143/20221214212450.png)
  ![](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/5143/20221214212603.png)

  > **多模光纤**
  >
  > - 可以存在多条不同角度入射的光纤在一条光纤中传输
  > - ![](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/5143/20221214212727.png)
  >
  > **单模光纤**
  >
  > - 若光纤的直径减少到只有一个光的波长，则光纤就像一根波导那样，它可使光线一直向前传播，而不会产生多次反射
  > - ![image-20221214212901512](C:/Users/d1741/AppData/Roaming/Typora/typora-user-images/image-20221214212901512.png)

  ![](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/5143/20221214212927.png)
  ![](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/5143/20221214212953.png)
  ![](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/5143/20221214213023.png)

  > 光纤的优点
  >
  > - 通信容量非常大
  > - 抗雷电和电磁干扰性能好
  > - 传输损耗小，中继距离长
  > - 无串音干扰，保密性好
  > - 体积小，重量轻
  >
  > 光纤的缺点
  >
  > - 切割光纤需要较贵的专用设备
  > - 目前光电接口还比较昂贵

#### 3、非导向型传输媒体

![](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/5143/20221214213259.png)
![](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/5143/20221214213322.png)

**无线电波**
![](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/5143/20221214213423.png)

**微波**
![](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/5143/20221214213448.png)
![](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/5143/20221214213523.png)
![](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/5143/20221214213546.png)

**红外线**
![](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/5143/20221214213805.png)

**激光**

**可见光**
![](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/5143/20221214213945.png)



## 2.3 传输方式

### 1、串行传输和并行传输

![](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/5143/20221215164355.png)

> **串行传输**
>
> - 数据是一个比特一个比特依次发送的，因此在发送端和接收端之间，只需要一条传输线路即可
>
> **并行传输**
>
> - 一次发送n个比特，因此在发送端和接收端之间需要有n条传输线路
> - 并行传输的优点是串行传输速度的n倍，但是成本高
>
> 数据在传输线路上传输采用的是串行传输，在计算机内部数据传输常用并行传输
>
> ![](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/5143/20221215165037.png)

### 2、同步传输和异步传输

**同步传输**

![](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/5143/20221215165332.png)

> **同步传输**
>
> - 数据块以稳定的比特流的形式传输。字节之间没有间隔
>
> - 接收端在每个比特信号的中间时刻进行检测，以判别接收到的是比特0还是比特1
>
> - 由于不同设备的时钟频率存在一定差异，不可能做到完全相同，在传输大量数据的过程中，所产生的判别时刻的累计误差，会导致接收端对比特信号的判别错位
>
> => 所以要使收发双发时钟保持同步
>
> 收发双方时钟同步的方法
>
> - **外同步**：在收发双方之间增加一调时钟信号线
> - **内同步**：发送端将时钟信号编码到发送数据中一起发送（例如曼彻斯特编码）

**异步传输**

![](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/5143/20221215165549.png)

> **异步传输**
>
> - 以字节为独立的传输单位，字节之间的时间间隔不是固定
>
> - 接收端仅在每个字节的起始处对字节内的比特实现同步
>
> - 通常在每个字节前后分别加上起始位和结束位
>
>   
>
> - **字节之间异步**，即字节之间的时钟间隔不固定
>
> - **字节中的每个比特仍然要同步**，即各比特的持续时间是相同的

### 3、单向通信、双向交替通信和双向同时通信

在许多情况下，我们需要使用**信道(channel)**这一名词。信道和电路并不等同。信道一般都是用来表示向某一个方向传送信息的媒体。因此一条通信电路往往包含一条发送信道和一条接收信道

从信道双方的信息和交互方式来看，有以下三种基本方式：

1. **单向通信**
   又称为**单工通信**，即只能有一个方向的通信而没有反方向的交互。无线电广播或有线电以及电视广播就属于这种类型
2. **双向交替通信**
   又称为**半双工通信**，即通信的双方可以发送信息，但不能双方同时发送（当然也就不能同时接收）。这种通信方式使一方发送另一方接收，过一段时间后可以再反过来
3. **双向同时通信**
   又称为**半双工通信**，即通信的双方可以发送信息，但不能双方同时发送（当然也就不能同时接收）。这种通信方式使一方发送另一方接收，过一段时间后可以再反过来

![](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/5143/20221215170042.png)

> **单向通信**只需要一条信道，而**双向交替通信**和**双向同时通信**需要两条信道（每个方向各一条）
>
> **双向同时通信**的传输效率最高
>
> **注意**
>
> - 单工电台中的**单工**表示的是**双向交替通信**，并不表示单向通信

## 2.4 编码与调制

### 1、编码与调制的基本概念

![](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/5143/20221215183726.png)
![](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/5143/20221215183746.png)

> **常用术语**
>
> - **数据 (data)** —— 运送消息的实体。
>
> - **信号 (signal)** —— 数据的电气的或电磁的表现。
>
> - **模拟信号 (analogous signal)** —— 代表消息的参数的取值是连续的。
>
> - **数字信号 (digital signal)** —— 代表消息的参数的取值是离散的。
>
> - **码元 (code)** —— 在使用时间域（或简称为时域）的波形表示数字信号时，代表不同离散数值的基本波形。
>
> - **基带信号**（即基本频带信号）—— 来自信源的信号。像计算机输出的代表各种文字或图像文件的数据信号都属于基带信号。
>
> - 基带信号往往包含有较多的低频成分，甚至有直流成分，而许多信道并不能传输这种低频分量或直流分量。因此必须对基带信号进行**调制** (modulation)。

### 2、常用编码方式

双极性不归零编码

![](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/5143/20221215184027.png)

> - 正电平表示比特 1 / 0
> - 负电平表示比特 0 / 1
>
> 中间的虚线是零电平，所谓不归零编码，就是指在整个码元时间内，电平不会出现零电平
>
> **实际比特1和比特0的表示可以自定义**

![](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/5143/20221215184323.png)

> 这需要发送方的发送和接收方的接收做到严格的同步
>
> - 需要给收发双方再添加一条时钟信号线
> - 发送方通过数据信号线给接收方发送数据的同时，还通过时钟信号线给接收方发送时钟信号
> - 接收方按照接收到的时钟信号的节拍，对数据信号线上的信号进行采样
>
> 由于**不归零编码**存在**同步问题**，对于计算机网络，宁愿利用这根传输线传输数据信号，而不是传输时钟信号

双极性归零编码

![](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/5143/20221215184717.png)

> - 在每个码元的中间时刻信号都会回归到零电平
> - 接收方只要在信号归零后采样即可
> - 归零编码相当于将时钟信号用“归零”方式编码在了数据之内，这称为“自同步”信号
> - 然而，归零编码中大部分的数据带宽都用来传输“归零”而浪费掉了 => 编码效率低

曼彻斯特编码

![](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/5143/20221215185031.png)

> 码元中间时刻的电平跳变即表示时钟信号，也表示数据
>
> 正跳变表示1 还是 0，负跳变表示0 还是 1，可以自行定义

差分曼彻斯特编码

![](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/5143/20221215185231.png)

> 码元中间时刻的电平跳变即表示时钟信号，不表示数据
>
> 数据的表示在于每一个码元开始出是否有电平跳变：
>
> - 无跳变表示1
> - 有跳变表示0
>
>  在传输大量连续1或连续0的情况下，差分曼彻斯特编码信号比曼彻斯特编码信号的变化少，更适合较高的传输速率
>
> 在噪声干扰环境下，检测有无跳变比检测跳变方向更不容易出错，因此差分曼彻斯特编码信号比曼彻斯特编码信号更易于检测。
>
>  在传输介质接线错误导致高低电平翻转的情况下，差分曼彻斯特编码仍然有效。

**总结**
![](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/5143/20221215185617.png)

![](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/5143/20221215185648.png)
![](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/5143/20221215185801.png)

### 3、基本的带通调制方法和混合调制方法

数字信号转换为模拟信号，在模拟信道中传输，例如WiFi，采用补码键控CCK/直接序列扩频DSSS/正交频分复用OFDM等**调制**方式。

模拟信号转换为另一种模拟信号，在模拟信道中传输，例如，语音数据加载到模拟的载波信号中传输。频分复用FDM技术，充分利用带宽资源。

**基本的带通调制方法**
![](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/5143/20221215185910.png)

> - **调幅AM**：所调制的信号由两种不同振幅的基本波形构成。每个基本波形只能表示1比特信息量。
>
> - **调频FM**：所调制的信号由两种不同频率的基本波形构成。每个基本波形只能表示1比特信息量。
>
> - **调相PM**：所调制的信号由两种不同初相位的基本波形构成。每个基本波形只能表示1比特信息量。
>
> 但是使用基本调制方法，1个码元只能包含1个比特信息

**混合调制方法**
![](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/5143/20221215190109.png)
![](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/5143/20221215190132.png)|

混合调制方法举例 -- 正交振幅调制QAM-16

- 12种相位
- 每种相位有1或2种振幅可选
- 可以调制出16种码元（波形），每种码元可以对应表示4个比特（2^4 = 16)
- 每个码元与4个比特的对应关系采用**格雷码**，即任意两个相邻码元只有1个比特不同

![](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/5143/20221215190345.png)
![](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/5143/20221215190416.png)

> 每个码元与4个比特的对应关系**不可以随意定义**
>
> ![](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/5143/20221215190648.png)
>
> - 码元A、B、C都可以被解调为0000(正确)
> - 码元D被解调为0001(1位错误)
> - 码元E被解调为1111(4位全错)
>
> => 格雷码表示每个码元与4个比特的对应关系
> ![](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/5143/20221215190856.png)



## 2.5 信道的极限容量

### 1、造成信号失真的主要因素

![](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/5143/20221215193532.png)

> - **码元的传输速率**：传输速率越高，信号经过传输后的失真就越严重
> - **信号的传输距离**：传输距离越远，信号经过传输后的失真就越严重
> - **噪声干扰**：噪声干扰越大，信号经过传输后的失真就越严重
> - **传输媒体的质量**：传输媒体质量越差，信号经过传输后的失真就越严重

> - 信道上传输的**数字信号**，可以看做是**多个频率的模拟信号进行多次叠加后形成的方波**
>   ![](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/5143/20221215194316.png)
>   ![](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/5143/20221215194337.png)
>   ![](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/5143/20221215194355.png)
> - 如果数字信号中的高频分量在传输时受到衰减甚至不能通过信道，则接收端接收到的波形前沿和后沿就变得不那么陡峭，每一个码元所占的时间界限也不再明确。这样，在接收端接收到的信号波形就失去了码元之间的清晰界限，这种现象称为**码间串扰**
> - 如果**信道的频带越宽**，则能够**通过的信号的高频分量就越多**，那么**码元的传输速率就可以更高**，而**不会导致码间串扰**
> - 然而，**信道的频率带宽是有上限的**，不可能无限大。因此，**码元的传输速率也有上限**

### 2、奈氏准则

![](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/5143/20221215194627.png)

> - 使用奈氏准则给出的公式，就可以根据信道的频率带宽，计算出信道的最高码元传输速率
> - 只要码元传输速率不超过根据奈氏准则计算出的上限，就可以避免码间串扰
> - 奈氏准则给出的是理想低通信道的最高码元传输速率，它和实际信道有较大的差别。因此，一个实际的信道所能传输的最高码元传输速率，要明显低于奈氏准则给出的上限值
> - 码元传输速率又称为波特率、调制速率、波形速率或符号速率
> - 波特率与比特率有一定的关系：
>   - 当1个码元只携带1比特的信息量时，波特率（码元/秒）与比特率（比特/秒）在数值上是相等的
>   - 当1个码元携带n比特的信息量时，波特率（码元/秒）转换成比特率（比特/秒）时，数值要乘以n。

### 3、香农公式

![](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/5143/20221215194845.png)

> - 信道的频率带宽W或信道中的信噪比S/N越大，信道的极限信息传输速率C就越高
> - 实际信道不可能无限制地提高频率带宽W或信道中的信噪比S/N
> - 实际信道中能够达到的信息传输速率，要比香农公式给出的极限传输速率低不少
>   这是因为在实际信道中，信号还要受到其他一些损伤，例如各种脉冲干扰和信号衰
>   减等，这些因素在香农公式中并未考虑

![](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/5143/20221215195105.png)
![](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/5143/20221215195123.png)
![](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/5143/20221215195142.png)
![](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/5143/20221215195159.png)
![](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/5143/20221215195217.png)



## 2.6 信道复用技术

### 1、信道复用技术的基本原理

- 复用(Multiplexing)就是**在一条传输媒体上同时传输多路用户的信号**

- 当一条传输媒体的传输容量大于多条信道传输的总容量时，就可以通过复用技术，在这条传输媒体上建立多条通信信道，以便**充分利用传输媒体的带宽**

- 尽管实现信道复用会增加通信成本（需要复用器、分用器以及费用较高的大容量共享信道），但如果**复用的信道数量较大**，还是**比较划算**的

  ![](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/5143/20221215195413.png)

### 2、常用的信道复用技术

- 频分复用FDM
- 时分复用TDM
- 波分复用WDM
- 码分复用CDM

**频分复用FDM**
![](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/5143/20221215195733.png)
频分复用的所有用户**同时**占用不同频带资源并行通信

**时分复用TDM**
![](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/5143/20221215195913.png)
时分复用的所有用户**在不同的时间占用同样的频带**

**波分复用WDM**

> - 根据频分复用的设计思想，可在一根光纤上**同时传输多个频率（波长）相近的光载波信号**，实现基于光纤的频分复用技术
> - 目前可以在一根光纤上复用80路或更多路的光载波信号。因此，这种复用技术也称为**密集波分复用DWDM**
> - 铺设光缆的工程耗资巨大，应尽量在一根光缆中放入尽可能多的光纤，然后对每一根光纤使用密集波分复用技术
>   例如，在一根光缆中放入100根速率为2.5Gb/s的光纤，对每根光纤采用40倍的密集波分复用，则这根光缆的总数据速率为（2.5Gb/s × 40）× 100 = 10000Gb/s = 10Tb/s

![](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/5143/20221215200250.png)

**码分复用CDM**

> - 码分复用（Code Division Multiplexing，CDM）常称为码分多址（Code Division Multiple Access，CDMA），它是在扩频通信技术的基础上发展起来的一种无线通信技术
>
> - 与FDM和TDM不同，CDMA的每个用户可以**在相同的时间使用相同的频带进行通信**
>
> - CDMA最初用于军事通信，这种系统发送的信号有很强的抗干扰能力，其频谱类似于白噪声，不易被敌人发现
>
> - 随着技术的进步，CDMA设备的价格和体积都大幅度下降，因而现在已广泛用于民用的移动通信中
>
> - CDMA将每个比特时间划分为m个更短的时间片，称为**码片**（Chip）。m的取值通常为64或128
>
> - CDMA中的每个站点都被指派一个唯一的m比特码片序列（Chip Sequence）
>
>   - 某个站要发送比特1，则发送它自己的m比特码片序列
>   - 某个站要发送比特0，则发送它自己的m比特码片序列的反码
>
>   ![](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/5143/20221215200906.png)
>   ![](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/5143/20221215201202.png)
>   ![](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/5143/20221215201243.png)

![](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/5143/20221215201310.png)
![](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/5143/20221215201350.png)
![](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/5143/20221215201411.png)
![](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/5143/20221215201428.png)
![](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/5143/20221215201448.png)
![](https://xingqiu-tuchuang-1256524210.cos.ap-shanghai.myqcloud.com/5143/20221215201507.png)